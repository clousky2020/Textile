<div class="form-group">
  <%= f.label :name, "公司名" %>
  <%= f.text_field :name, class: "form-control" %>
</div>
<div class="form-group">
  <%= f.label :contacts, "联系人姓名" %>
  <%= f.text_field :contacts, class: "form-control" %>
</div>

<div class="form-group">
  <%= f.label :phone, "联系号码" %>
  <%= f.text_field :phone, class: "form-control" %>
</div>
<div class="form-group">
  <%= f.label :address, "地址" %>
  <%= f.text_field :address, class: "form-control" %>
</div>
<div class="form-group">
  <%= f.label :description, "描述" %>
  <%= f.text_field :description, class: "form-control" %>
</div>
<div class="form-group">
  <%= f.label :check_money, "清算金额" %>
  <a class="far fa-question-circle" data-toggle="tooltip" data-placement="right" title="设定和供应商的初始未付货款,负值代表供应商欠我们钱"> </a>
  <%= f.number_field :check_money, min: 0, step: 0.01, class: "form-control" %>
</div>
<div class="form-group">
  <%= f.label :check_money_time, "清算时间" %>
  <a class="far fa-question-circle" data-toggle="tooltip" data-placement="right" title="在此时间前记录的订单和付款单将不会参与总值计算"> </a>
  <%= f.datetime_field :check_money_time, class: "form-control" %>
  <a id="check_money_time_clear">清除</a>
</div>

<script>
  $(document).ready(function () {
      //把清算时间和清算金额一起删掉
      $("#check_money_time_clear").on("click",function () {
          $("#purchase_supplier_check_money_time").val('');
          $("#purchase_supplier_check_money").val(0);
      })
      //填充清算时间
      $("#purchase_supplier_check_money").on("change",function () {
          var myDate = new Date;
          var year = myDate.getFullYear(); //获取当前年
          var mon = myDate.getMonth() + 1; //获取当前月
          var date = myDate.getDay(); //获取当前日
          if (date<10){
              date="0"+date;
          }
          var hh = myDate.getHours(); //获取当前小时
          var mm = myDate.getMinutes(); //获取当前分钟
          $("#purchase_supplier_check_money_time").val(year+"-"+mon+"-"+date+"T"+hh+":"+mm);
      })

  })
</script>